# MemoriaHub Environment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# Database Configuration
# =============================================================================
# Local Docker PostgreSQL (default):
#   Leave POSTGRES_HOST empty or set to 'localhost' to use local Docker container
#
# Cloud PostgreSQL:
#   Set POSTGRES_HOST to your cloud server (e.g., your-db.region.rds.amazonaws.com)
#   SSL will be enabled automatically for cloud connections
#
# Or use DATABASE_URL for full control:
#   DATABASE_URL=postgresql://user:pass@host:5432/db?sslmode=require

POSTGRES_HOST=
POSTGRES_PORT=5432
POSTGRES_USER=memoriahub
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=memoriahub
POSTGRES_SSL=true

# =============================================================================
# S3/MinIO Storage Configuration
# =============================================================================
# For MinIO (self-hosted)
S3_ENDPOINT=http://minio:9000
S3_FORCE_PATH_STYLE=true

# For AWS S3, use:
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_FORCE_PATH_STYLE=false

S3_ACCESS_KEY=memoriahub
S3_SECRET_KEY=change_me_in_production
S3_BUCKET=memoriahub

# =============================================================================
# JWT/Authentication Configuration
# =============================================================================
# Generate a secure secret: openssl rand -base64 64
JWT_SECRET=change_me_generate_a_secure_random_string
JWT_EXPIRES_IN=15m

# =============================================================================
# OAuth Providers
# Configure the providers you want to use
# =============================================================================

# Google OAuth
# https://console.cloud.google.com/apis/credentials
# Required scopes: openid, email, profile
# Redirect URI: http://localhost/api/auth/google/callback (or your domain)
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=

# Microsoft OAuth
# https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade
OAUTH_MICROSOFT_CLIENT_ID=
OAUTH_MICROSOFT_CLIENT_SECRET=

# GitHub OAuth
# https://github.com/settings/developers
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# OAuth callback configuration
# Used by the API to construct callback URLs
OAUTH_CALLBACK_BASE_URL=http://localhost/api/auth
FRONTEND_URL=http://localhost:5173

# =============================================================================
# Worker Configuration
# =============================================================================
WORKER_CONCURRENCY=4

# =============================================================================
# SSL Configuration (Production)
# =============================================================================
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# =============================================================================
# Grafana Configuration (Production)
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_in_production
GRAFANA_ROOT_URL=http://localhost:3001

# =============================================================================
# OpenTelemetry Configuration
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
